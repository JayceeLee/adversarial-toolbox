import numpy as np
import matplotlib.pyplot as plt


data = np.array([ [
            0.868190356919,
            0.868190356919,
            0.780632411067,
            0.723460026212,
            0.66091954023,
            0.707460732984,
            0.718622100955,
            0.722513089005,
            0.702737940026,
            0.715753424658,
            0.707421875,
            0.726283048212,
            0.71900566394,
            0.710327455919,
            0.719160926738,
            0.715134459037,
            0.710131332083,
            0.716700473293,
            0.724040276904,
            0.692607003891,
            0.7159375,
            0.715,
            0.728125

        ],

        [
            0.924571805007,
            0.87859947644,
            0.902686762779,
            0.890379581152,
            0.904843110505,
            0.896596858639,
            0.906127770535,
            0.923287671233,
            0.895703125,
            0.898911353033,
            0.891126494651,
            0.900083963056,
            0.912648716343,
            0.8889931207,
            0.888680425266,
            0.918526031102,
            0.904657016992,
            0.886511024643,
            0.8796875,
            0.89375,
            0.896875
        ],

        [
            0.886959370904,
            0.82183908046,
            0.850458115183,
            0.870746073298,
            0.883963494133,
            0.908904109589,
            0.876953125,
            0.871695178849,
            0.881686595343,
            0.868597816961,
            0.882279273638,
            0.859287054409,
            0.87210756723,
            0.88370520622,
            0.897734424166,
            0.857976653696,
            0.8565625,
            0.8740625,
            0.87625
        ],

        [
            0.9430171278,
            0.913612565445,
            0.93250327654,
            0.91557591623,
            0.93826739427,
            0.927683246073,
            0.938722294654,
            0.955136986301,
            0.93046875,
            0.926127527216,
            0.935494021397,
            0.912678421495,
            0.933312460864,
            0.912445278299,
            0.917135709819,
            0.937795807978,
            0.935179358087,
            0.921530479896,
            0.9040625,
            0.91375,
            0.91875
        ],

        [

            0.895915678524,
            0.839332460733,
            0.864351245085,
            0.844895287958,
            0.867326057299,
            0.857002617801,
            0.876792698827,
            0.878424657534,
            0.86640625,
            0.867807153966,
            0.856828193833,
            0.845927791772,
            0.860050093926,
            0.846779237023,
            0.856785490932,
            0.866801893171,
            0.868785399622,
            0.845006485084,
            0.84,
            0.850625,
            0.858125
	],

	[
            0.904808959157,
            0.851439790576,
            0.880733944954,
            0.852094240838,
            0.899727148704,
            0.882853403141,
            0.883963494133,
            0.906849315068,
            0.88359375,
            0.887247278383,
            0.881057268722,
            0.866918555835,
            0.884470882905,
            0.868042526579,
            0.868355222014,
            0.884719405003,
            0.896475770925,
            0.866407263294,
            0.8503125,
            0.8734375,
            0.8734375
	],

	[
            0.906126482213,
            0.840641361257,
            0.883682830931,
            0.849803664921,
            0.880627557981,
            0.869437172775,
            0.879400260756,
            0.88904109589,
            0.87421875,
            0.880248833593,
            0.873190685966,
            0.864819479429,
            0.868503443957,
            0.860225140713,
            0.86272670419,
            0.877620013523,
            0.876651982379,
            0.847600518807,
            0.845625,
            0.8540625,
            0.8603125
	],

	[
            0.926877470356,
            0.881544502618,
            0.909239842726,
            0.890052356021,
            0.921214188267,
            0.903795811518,
            0.912646675359,
            0.933904109589,
            0.90703125,
            0.901244167963,
            0.915984896161,
            0.903442485306,
            0.906073888541,
            0.895559724828,
            0.909005628518,
            0.929682217715,
            0.918816865953,
            0.890402075227,
            0.886875,
            0.9021875,
            0.9075
	],

	[
            0.938735177866,
            0.912958115183,
            0.936107470511,
            0.917866492147,
            0.93758526603,
            0.928337696335,
            0.938722294654,
            0.955479452055,
            0.9296875,
            0.915241057543,
            0.927627438641,
            0.925272879933,
            0.924546023795,
            0.9205753596,
            0.9205753596,
            0.937457741717,
            0.936123348018,
            0.918612191958,
            0.9025,
            0.9140625,
            0.923125
        ],

        [
            0.877799736495,
            0.805955497382,
            0.836173001311,
            0.802683246073,
            0.845497953615,
            0.834096858639,
            0.851368970013,
            0.851712328767,
            0.855859375,
            0.856920684292,
            0.831969792322,
            0.830814441646,
            0.826549780839,
            0.82301438399,
            0.834584115072,
            0.834685598377,
            0.85399622404,
            0.812256809339,
            0.80375,
            0.8228125,
            0.8221875
        ],

        [

            0.898550724638,
            0.83442408377,
            0.877785058978,
            0.854384816754,
            0.884720327422,
            0.877290575916,
            0.877444589309,
            0.88904109589,
            0.87421875,
            0.876360808709,
            0.866582756451,
            0.859781696054,
            0.879461490294,
            0.857723577236,
            0.866791744841,
            0.874915483435,
            0.891441157961,
            0.851167315175,
            0.84625,
            0.86625,
            0.8703125

        ]
    ])

print len(data)

import matplotlib.cm as cm
import random
colors = cm.rainbow(np.linspace(0, 1, len(data)))

plt.figure()
for i, c in zip(range(len(data)), colors):
    x = range(len(data[i]))
    plt.plot(x, data[i], color=c, lw=2, alpha=0.9, label="svm {}".format(i))

plt.title("svm performace on successive L-BFGS iterations")
plt.suptitle("gradient defense on direct optimization")
plt.xlabel('iteration of CNN detector attack)')
plt.ylabel('svm detection accuracy')
plt.legend(loc='best', frameon=False)
plt.show()

